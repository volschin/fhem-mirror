<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>Home of FHEM</title>
</head>

<body style="background-color: white">


<h1>FHEM</h1>
GPL'd server for house automation. Formerly known as fhz1000.pl
<br/><br/>
Current Version: (as of =DATE=) is <a
href="http://www.koeniglich.de/fhem/fhem-=VERS=.tar.gz">=VERS=</a>

See the <a href="CHANGED">CHANGED</a> file for current changes, or the <a
href="#webfrontends"/>webfrontends</a> section for screenshots.

<h2>Description</h2>
<ul>
<b>fhem</b> is used to automate some common tasks in the household like
switching lamps/shutters/heating/etc. and to log events like
temperature/humidity/power consumption.<br><br>

The program runs as a server, you can control it via telnet, command line
program or TCP/IP directly, like the supplied web frontends do.<br> <br>

Currently implemented features:<br>
<ul>
  <li>Via the FHZ module (with access to one or more FHZ1000/FHZ1300 device):
    <ul>
      <li>reading and sending FS20 events (on/off/dimming, timer
          commands)</li>
      <li>support of FS20 address features function group, local and global
          master</li>
      <li>reading and changing FHT80b parameters (temp, actuator, etc).<br>
          The FHT8b seems to work too. Note: the FHT8 wont work.<br>
          Internal software buffer to prevent lost commands.</li>
      <li>reading HMS data (HMS100-T,-TF,-WD,-MG,-TFK,-CO,-FIT and RM100-2,3)</li>
      <li>reading KS300 data</li>
    </ul>
     Note: The FHZ1350 WLAN works with fhem if you replace the standard
     (AVISARIO) WLAN module with one that won't encrypt the data.
    </li>
  <li>Via the CM11 module (with access to a X10 computer interface):
    <ul>
      <li>reading all X10 events</li>
      <li>sending X10 events (on/off/dimming)</li>
      <li>timed on/off switching support</li>
    </ul>
    </li>
  <li>Via the CUL module using the CUL/CUN or CUR (see <a
      href="http://www.busware.de">www.busware.de
      </a>) access to the following protocols:<br>
      <ul>
        <li>FS20 (Receive/Send, all devices)
        <li>EM (EM1000EM/EM1000GZ/EM1000WZ)
        <li>FHT80b (Receive/Send)
        <li>HMS (Receive)
        <li>S300 (KS300, S300TH, KS555, S555TH, etc)
      </ul>
  </li>
  <li>reading WS300 data, and up to 9 attached devices</li>
  <li>reading EM1000WZ/EM1000EM/EM1000GZ data via an attached EM1010PC</li>
  <li>reading attached SCIVT devices</li>
  <li>reading attached M232 devices</li>
  <li>reading attached WS2000/WS25000 devices, also via raw network
      converters(xport)</li>
  <li>extract sensor data from IPWE networked weather data receiver</li>
  <li>logging events to files or databases, with regexp filters</li>
  <li>notifying external programs or internal modules when receiving certain
      events</li>
  <li>timed commands (e.g. switching a lamp on from sunset till midnight)</li>
  <li>watchdog (e.g. trigger if the HMS100-FIT is inactive for HH:MM:SS)</li>
  <li>modular architecture, easy to add your special device</li>
  <li>different web frontends, choose your favorite</li>
<br>
</ul>
See <a href="HOWTO.html">HOWTO.html</a>, <a href="commandref.html">
commandref.html</a> and <a href="faq.html">faq.html</a> for more documentation, and <a href="README.contrib">contrib/README</a> for other extensions.
</ul>

<h2>Links:</h2>
<ul>
  Homepage:  <a href="http://www.koeniglich.de/fhem/fhem.html">
  	http://www.koeniglich.de/fhem/fhem.html</a><br>
  Download:  <a href="http://www.koeniglich.de/fhem/fhem-=VERS=.tar.gz">
  	http://www.koeniglich.de/fhem/fhem-=VERS=.tar.gz</a><br>
  FAQ:  <a href="http://www.koeniglich.de/fhem/faq.html">
  	http://www.koeniglich.de/fhem/faq.html</a><br>
  Google-Group:  <a href="http://groups.google.com/group/fhem-users">
  	http://groups.google.com/group/fhem-users</a><br>
  Martins Web frontend (webpgm3): <a href="http://www.martin-haas.de/fhz">
  	http://www.martin-haas.de/fhz</a><br>
  Another Martins Web frontend (myHCE):
        <a href="http://www.fischer-net.de/projekte/haustechnik/myhce.html">
        http://www.fischer-net.de/projekte/haustechnik/myhce.html</a><br>
  Frontend for the iPhone:
        <a href="http://www.gschaden.com/wp/2009/01/18/fhem-iphone-gateway/">
        http://www.gschaden.com/wp/2009/01/18/fhem-iphone-gateway/</a> or
        <a href="http://www.dhs-computertechnik.de/support-iphone.html">
        http://www.dhs-computertechnik.de/support-iphone.html</a> or

        <br>
  CVS@berlios: <a href="http://developer.berlios.de/projects/fhem">
  	http://developer.berlios.de/projects/fhem</a><br>
  LinViex (home automation frontend):
        <a href="http://sourceforge.net/projects/linviex">
        http://sourceforge.net/projects/linviex</a><br>
  Protocol descriptions and other useful stuff: <a href="http://fhz4linux.info/">http://fhz4linux.info/</a><br>
  CUL: <a href=http://shop.busware.de/product_info.php?products_id=29">
        Hardware shop</a>, <a href="http://www.koeniglich.de/culfw/culfw.html">
        firmware homepage</a>, <a href="http://groups.google.com/group/cul-fans">
        CUL fans google group</a><br>
  <br>

  Device/OS Specific installation guides:<br>
  <ul>
    <li>Linux driver installation:
          <a href="http://www.koeniglich.de/fhem/linux.html">
        http://www.koeniglich.de/fhem/linux.html</a></li>
     <li>Windows driver installation:
          <a href="http://fhz4linux.info/tiki-index.php?page=Driver%20installation">
          http://fhz4linux.info/tiki-index.php?page=Driver%20installation</a> <br>
          (use "Solution B", only COM1..COM9 is supported)</li>
    <li>Instructions for Nas/Routers (NSLU2):
          <a href="http://www.martin-haas.de/fhz/nslu2fhz">
        http://www.martin-haas.de/fhz/nslu2fhz</a></li>
    <li>Instructions for the Fritz!Box:
          <a href="fritzbox.html">
        http://www.koeniglich.de/fhem/fritzbox.html</a></li>
    <li>Instructions for the Allnet all6250:
          <a href="http://wiki.dungeon.de/all6250_opennas_mit_fhem">
        http://wiki.dungeon.de/all6250_opennas_mit_fhem</a></li>
  </ul>
  Commercial products:
  <ul>
    <li>Integration of FHZ and NAS running FHEM. Using an enhanced transmitter to achieve more distant transmission. Full integrated solution for Home-Control
	and beyond (other service like UPS management, etc. are also available).
	<br>
	<a href="http://www.dhs-computertechnik.de/">
    http://www.dhs-computertechnik.de/</a></li>
  </ul>
</ul>


<h2>Installation</h2>
<ul>

<h3>Perl modules</h3>
<ul>
  You need perl &gt;=5.6, on Unix with the Device::SerialPort (<a
  href="http://search.cpan.org/dist/Device-SerialPort/">
  http://search.cpan.org/dist/Device-SerialPort/</a>),
  on Windows Win32::SerialPort (use ActiveState's ActivePerl)
  module.
  If this module reports <code>Can't call method "opened" on an undefined
  value...</code> when starting the server, then you either may ignore
  this message, or replace the mentioned line with:<pre>
    $self->{HANDLE}->close if (defined($self->{HANDLE}) &&
    	                       $self->{HANDLE}->opened);</pre>
</ul>

<h3>Server installation on Unix</h3>
<ul>
  <li>Check the Makefile for the installation path, then type make install.</li>
  <li>Create a configuration file (see the examples directory or
      docs/commandref.html).</li>
  <li>Start the server with <code>fhem.pl &lt;configfile&gt;</code></li>
</ul>

<h3>Server installation on Windows</h3>
If you are using cygwin for your perl installation you can follow the guidelines for Unix.
<ul>
  <li>Be sure you have perl.exe in your path (%PATH%)</li>
  <li>Make sure that you can access the serial USB device via virtual COM-Port
     or via socket(e.g. <code>COMX or xport:10001</code>).</li>
  <li>Create a configuration file (see the examples directory and
      docs/commandref.html)</li>
  <li>Start the server with <code>fhem.pl &lt;configfile&gt;</code></li>
</ul>


<a name="webfrontends"/>
<h3>General notes for webfrontends:</h3>
<ul>
  <li>You don't have to install all of them, one is probably more than
      enough :-)</li>
  <li>The numbering has historical reasons: not actively maintained versions
       are not described here</li>
  <li><b>Important:</b> Make sure you add some protection (.htaccess, etc)
      else everybody will be able to set your devices</li>
</ul>

<h3>Web frontend 2 (webfrontend/pgm2)</h3>
  <ul>
  This frontend is a FHEM module implementing a HTTP server, no further
  programs are needed.  It has support for grouping devices into rooms,
  manipulating devices, direct fhem commands, displaying logfiles as text or
  plot (SVG builtin or PNG by gnuplot), navigating/zooming in the plots.  <br/>


  Screenshots: <a href="pgm2-1.png">overview</a>, <a
  href="pgm2-2.png">detail</a>, <a href="pgm2-3.png">SVG-plots</a>.
  <br><br>
  Installation: make install-pgm2 &amp;&amp; perl fhem.pl <br>
  This will start fhem.pl with a minimalistic configuration.
  Connect to fhem via <a
  href="http://localhost:8083/fhem">http://localhost:8083/fhem</a>. See the
  Howto there on how to continue.

  </ul>

<h3>Web frontend 3 (webfrontend/pgm3)</h3>
  <ul>
  This frontend is PHP based and was contributed by Martin Haas.
  Look at the webfrontends/pgm3/docs for more documentation.
  A lot more details <a href="http://www.martin-haas.de/fhz/screenshots.html">and screenshots</a> can be
  found on Martins page: <a href="http://www.martin-haas.de/fhz">
  http://www.martin-haas.de/fhz</a>
  <br>pgm3 must not run on the same maschine like fhem.<br>
  The Devices of 95% of the users are detected and configured automatically. 
  Further 4% are adaptable by the function UserDef. See config.php for explanation.
   
  <br><br>

  Installation:
    <ul>
     <li>Install PHP5, the php5-Apache-Modules and php-gd. Every current 
     distribution should do all the needed configuration without your input.</li>

     <li>Create a directory in the Apache2 DocumentRoot 
     (e.g.: /home/httpd/html/pgm3) and copy all the files from the 
     webfrontend/pgm3 to this directory.<br>Make sure that this
     directory is writeable by the webserver (e.g. User www-data.www-data)!
     </li>


     <li>If you want to have access to the FHT temperature logs, then:
     <ul>
       <li>Make sure gnuplot is installed</li>
     </ul>
     <li>Call &lt;your-site&gt;/pgm3/index.php</li>
  </ul>
  </ul>
<br>
  
<h3>Web frontend 5 (webfrontend/pgm5)</h3>
  <ul>
This frontend is CGI/CSS based. It has support for rooms, and  FHT/KS300 logs.

This webfrontend is an update of the former know pgm2 (up to 4.2):
It resides in YOUR HTTP server, and doesn't provide an own, like the FHEMWEB module does.<br>
<br>
Why to use this:<br>
1) If you want to stick with your Web-Servers (due to restrictions, 
   ports or any other reason)<br>
2) If you have a NAS (Network attached storage) and limited CPU-Power. 
   This frontend can render the graphics in the background (in 
   intervals) and sends only the rendered graphics to the HTML-Page.<br>
3) If you need the FHEMRENDERER to render the images for other/own   
   pages.<br>
   <br>
   A lot more details can be found on <a href="http://www.dhs-computertechnik.de/support.html">http://www.dhs-computertechnik.de/support.html</a>
  <br><br>
  
  Installation:
  <ul>
     <li>Copy the file fhemweb.pl and *.css to your cgi-bin directory (/home/httpd/cgi-bin), the icons (*.gif) to your httpd icons (/home/httpd/icons), and commandref.html to the html directory (/home/httpd/html) (or also to cgi-bin directory).<br>
		Note: The program looks for icons in the following order: <br>
		'device-name.state', 'device-name', 'device-type.state', 'device-type'</li>

	 
  	 <li>The *.gplot files should be reused from the built-in FHEMWEB and should reside in the installed FHEM directory. Here we don't provide specific *.gplot files as the mechanisms are exactly the same.</li>


	 <li>If you want to have access to plotted logs, then make sure that gnuplot is installed and set the logtype for the FileLog device (see commandref.html and example/04_log). 
		Copy the file contrib/99_weblink.pm to the installed FHEM directory.</li>

	 <li>Copy the file pgm5/02_FHEMRENDERER.pm to the installed FHEM directory.
	This gives you a graphic rendering engine (gnuplot & gnuplot-scroll at the moment), which can be configured to renderer images in intervals.</li>

     <li>Call 'your-site'/cgi-bin/fhemweb.pl </li>

  </ul>
  </ul>  
</ul>
  
<h2>License:</h2>
<ul>
  Copyright:<br>
  <ul>
    <li>Rudolf Koenig (r dot koenig at koeniglich dot de)</li>
    <li>Raoul Matthiessen (webfrontends/pgm1)</li>
    <li>Martin Haas (webfrontends/pgm3)</li>
	<li>Olaf Droegehorn (webfrontends/pgm5)</li>
  </ul>
  License: GPL (v2)<br>
  Thanks to TOSTi for inspiration and numerous other people for help. <br>

</body>

</html>
